
# é‡æ–°è¼‰å…¥ Systemdï¼Œè®“ Systemd çŸ¥é“æœ‰æ–°çš„æœå‹™æª”æ¡ˆã€‚
```
systemctl --user daemon-reload
```

# å•Ÿç”¨æœå‹™ï¼Œè¨­å®šæœå‹™åœ¨ä¸‹æ¬¡ç™»å…¥æ™‚è‡ªå‹•å•Ÿå‹•ã€‚ 
```
systemctl --user enable --now vscode-tunnel
```

# ç«‹å³å•Ÿå‹•
```
systemctl --user status vscode-tunnel --no-pager
```

# ç¢ºèªserviceç‹€æ…‹
```
systemctl status <æœå‹™åç¨±>
```

# åˆ—å‡ºservice
```
```

# æŸ¥è©¢serviceæ˜¯å¦åŸ·è¡Œä¸­
```
systemctl is-active <æœå‹™åç¨±>
```
- activeï¼šæœå‹™æ­£åœ¨é‹è¡Œã€‚
- inactiveï¼šæœå‹™å·²åœæ­¢ã€‚
- failedï¼šæœå‹™å•Ÿå‹•å¤±æ•—æˆ–éæ­£å¸¸é€€å‡ºã€‚

# æª¢æŸ¥æœå‹™æ˜¯å¦å·²è¨­å®šé–‹æ©Ÿå•Ÿå‹•
```
systemctl is-enabled <æœå‹™åç¨±>
```
- enabledï¼šå·²è¨­å®šé–‹æ©Ÿè‡ªå‹•å•Ÿå‹•ã€‚
- disabledï¼šæœªè¨­å®šé–‹æ©Ÿè‡ªå‹•å•Ÿå‹•ã€‚

# ä½¿ç”¨ Systemd User Service (ä½¿ç”¨è€…æœå‹™)
å¦‚æœæ‚¨æƒ³æª¢æŸ¥çš„æ˜¯é€é systemctl --user å•Ÿå‹•çš„ä½¿ç”¨è€…æœå‹™ï¼ˆä¾‹å¦‚æ‚¨å…ˆå‰è¨­å®šçš„ vscode-tunnel.serviceï¼‰ï¼Œå‰‡éœ€è¦åœ¨æ‰€æœ‰å‘½ä»¤å¾ŒåŠ ä¸Š --userï¼š
```
systemctl --user status <ä½¿ç”¨è€…æœå‹™åç¨±>
```

## ğŸš€ Systemd å¸¸ç”¨å‘½ä»¤ç¸½çµ (systemctl)

| ç›®çš„ (Action) | å‘½ä»¤èªæ³• (Command) | èªªæ˜ (Description) |
| :--- | :--- | :--- |
| **æª¢æŸ¥æœå‹™ç‹€æ…‹** | `systemctl status <æœå‹™åç¨±>` | **é¡¯ç¤ºæœå‹™çš„è©³ç´°ç‹€æ…‹ã€é‹è¡Œæ™‚é–“ã€PID å’Œæœ€è¿‘çš„æ—¥èªŒã€‚** |
| **å¿«é€Ÿæª¢æŸ¥æ˜¯å¦é‹è¡Œ** | `systemctl is-active <æœå‹™åç¨±>` | è¼¸å‡º `active` (é‹è¡Œä¸­)ã€`inactive` (å·²åœæ­¢) æˆ– `failed` (å¤±æ•—)ã€‚ |
| **æª¢æŸ¥é–‹æ©Ÿæ˜¯å¦å•Ÿç”¨** | `systemctl is-enabled <æœå‹™åç¨±>` | è¼¸å‡º `enabled` (å•Ÿç”¨) æˆ– `disabled` (æœªå•Ÿç”¨)ã€‚ |
| **å•Ÿå‹•æœå‹™** | `systemctl start <æœå‹™åç¨±>` | ç«‹å³å•Ÿå‹•æŒ‡å®šçš„æœå‹™ã€‚ |
| **åœæ­¢æœå‹™** | `systemctl stop <æœå‹™åç¨±>` | ç«‹å³åœæ­¢æŒ‡å®šçš„æœå‹™ã€‚ |
| **é‡å•Ÿæœå‹™** | `systemctl restart <æœå‹™åç¨±>` | åœæ­¢å¾Œå†é‡æ–°å•Ÿå‹•æœå‹™ã€‚ |
| **é‡æ–°è¼‰å…¥é…ç½®** | `systemctl reload <æœå‹™åç¨±>` | ä¸ä¸­æ–·æœå‹™ï¼Œé‡æ–°è¼‰å…¥å…¶é…ç½®æª”æ¡ˆ (å¦‚æœæœå‹™æ”¯æ´)ã€‚ |
| **å•Ÿç”¨é–‹æ©Ÿå•Ÿå‹•** | `systemctl enable <æœå‹™åç¨±>` | è¨­å®šæœå‹™åœ¨ä¸‹æ¬¡é–‹æ©Ÿæˆ–ç›®æ¨™å•Ÿå‹•æ™‚è‡ªå‹•é‹è¡Œã€‚ |
| **ç¦ç”¨é–‹æ©Ÿå•Ÿå‹•** | `systemctl disable <æœå‹™åç¨±>` | å–æ¶ˆæœå‹™çš„é–‹æ©Ÿè‡ªå‹•é‹è¡Œã€‚ |
| **é‡æ–°è¼‰å…¥ Daemon** | `systemctl daemon-reload` | åœ¨ä¿®æ”¹æœå‹™è¨­å®šæª” (Unit File) å¾Œå¿…é ˆåŸ·è¡Œæ­¤å‘½ä»¤ï¼Œè®“ Systemd è®€å–æ–°é…ç½®ã€‚ |

---

### ğŸ‘¤ é‡å°ä½¿ç”¨è€…æœå‹™ (User Services)

| ç›®çš„ (Action) | å‘½ä»¤èªæ³• (Command) | ç¯„ä¾‹ |
| :--- | :--- | :--- |
| **æŸ¥çœ‹ä½¿ç”¨è€…æœå‹™ç‹€æ…‹** | `systemctl --user status <æœå‹™åç¨±>` | `systemctl --user status vscode-tunnel.service` |
| **å•Ÿç”¨ä½¿ç”¨è€…æœå‹™** | `systemctl --user enable <æœå‹™åç¨±>` | `systemctl --user enable vscode-tunnel.service` |

## ğŸ’» åˆ—å‡ºé‹è¡Œä¸­æœå‹™ (Service) å‘½ä»¤ç¸½çµ

| ç›®çš„ (Goal) | å‘½ä»¤èªæ³• (Command) | èªªæ˜ (Description) |
| :--- | :--- | :--- |
| **åˆ—å‡ºæ‰€æœ‰æŒçºŒé‹è¡Œä¸­çš„ç³»çµ±æœå‹™** | `systemctl list-units --type=service --state=running` | **æœ€å¸¸ç”¨ã€‚** é¡¯ç¤ºæ‰€æœ‰å·²è¼‰å…¥ä¸”æ­£åœ¨åŸ·è¡Œï¼ˆ`running`ï¼‰çš„ç³»çµ±ç´šæœå‹™ã€‚ |
| **åˆ—å‡ºæ‰€æœ‰æ´»èº (Active) çš„ç³»çµ±æœå‹™** | `systemctl list-units --type=service --state=active` | åŒ…å«æ­£åœ¨æŒçºŒé‹è¡Œä¸­çš„æœå‹™ï¼Œä»¥åŠé‚£äº›å·²å®Œæˆä»»å‹™ä½†ä»è¢« Systemd æ¨™è¨˜ç‚ºæ´»èºï¼ˆä¾‹å¦‚ `active (exited)`ï¼‰çš„æœå‹™ã€‚ |
| **åˆ—å‡ºæ‰€æœ‰æ­£åœ¨é‹è¡Œä¸­çš„ä½¿ç”¨è€…æœå‹™** | `systemctl --user list-units --type=service --state=running` | æª¢æŸ¥é€éä½¿ç”¨è€…æ¬Šé™å•Ÿå‹•å’Œç®¡ç†çš„æœå‹™ã€‚ |
| **åˆ—å‡ºæ‰€æœ‰å•Ÿå‹•å¤±æ•—çš„æœå‹™** | `systemctl --failed` | ç”¨æ–¼æ•…éšœæ’é™¤ï¼Œå¿«é€ŸæŸ¥çœ‹ç‹€æ…‹ç‚º `failed` çš„æœå‹™ã€‚ |

